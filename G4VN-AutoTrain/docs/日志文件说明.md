# 日志文件说明

## 日志文件位置

程序运行后，会在程序目录下创建一个日志文件：

**文件名：** `patcher_log.txt`  
**位置：** 与 `G4VN-AutoTrain.exe` 同一目录

## 如何查看日志

1. **找到日志文件**
   - 打开程序所在目录
   - 查找 `patcher_log.txt` 文件

2. **打开日志文件**
   - 用记事本或其他文本编辑器打开
   - 推荐使用支持UTF-8编码的编辑器（如Notepad++）

3. **查看内容**
   - 日志文件包含所有控制台输出
   - 包括补丁过程的详细信息

## 日志文件内容

日志文件会记录：

### 启动信息
```
=== G4VN自动挂机启动器 ===
控制台已启用，可以查看调试信息
日志文件: H:\...\patcher_log.txt
时间: 2024-12-07 20:00:00
```

### 补丁系统信息
```
UIChinesePatcher: Thread started, PID=1234
UIChinesePatcher: Process name=G4VNVLBS
UIChinesePatcher: Waiting 5 seconds for window to load...
UIChinesePatcher: Retry 0, MainWindowHandle=0x12345678
UIChinesePatcher: Window visible=True
UIChinesePatcher: Window title='AutoVLBS 1.9'
UIChinesePatcher: Starting recursive patch...
UIChinesePatcher: Patched Button 'Luyện công' -> '练功' (HWND=0x12345678)
UIChinesePatcher: Patched 15 windows
```

### 错误信息
```
UIChinesePatcher Error: ...
PatchWindowRecursive Error: ...
```

## 如果日志文件没有创建

如果找不到日志文件，可能的原因：

1. **程序没有运行**：确保程序已经运行
2. **权限问题**：程序可能没有写入权限
3. **路径问题**：检查程序所在目录

## 分析日志文件

查看日志文件可以帮助诊断问题：

1. **如果看到 "UIChinesePatcher: Thread started"**
   - ✅ 补丁系统已启动

2. **如果看到 "UIChinesePatcher: Found main window"**
   - ✅ 找到了目标窗口

3. **如果看到 "UIChinesePatcher: Patched X windows"**
   - ✅ 补丁系统在工作
   - 如果X=0，说明没有找到需要翻译的文本

4. **如果看到 "UIChinesePatcher: Skipped text (no translation)"**
   - ⚠️ 某些文本没有在翻译映射表中
   - 需要添加这些文本到映射表

5. **如果没有任何UIChinesePatcher相关输出**
   - ❌ 补丁系统可能没有被调用
   - 检查CrackVLBS19v3.cs中的调用位置

## 清理日志文件

日志文件会不断追加内容。如果需要清理：

1. 删除 `patcher_log.txt` 文件
2. 程序下次运行时会创建新的日志文件

---

**创建日期：** 2024年  
**状态：** ✅ 已启用日志文件功能
